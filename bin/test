#!/usr/bin/env sh

set -e

export RAILS_ENV=test

echo "\nğŸ—„ï¸ Ensure a test database exists.\n"
bin/rails db:setup

echo "\nğŸ—‚ï¸ Ensure an up-to-date schema.\n"
bin/rails db:test:prepare

echo "\nğŸ—ƒï¸ Load test DB with fixture data.\n"
bin/rails db:fixtures:load

echo "\nğŸ¿ Unit & Integration Tests ğŸ¿\n"
bin/rails test

echo "\nğŸ”¥ System Tests ğŸ”¥\n"
bin/rails test:system
